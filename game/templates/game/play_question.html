{% extends 'game/base.html' %}

{% block content %}
<!--
    La clase 'main-menu-card' se asegura de que todo el contenido
    de la tarjeta esté centrado vertical y horizontalmente.
-->
<div class="card main-menu-card">

    <!-- Sección de Premios -->
    <div style="text-align: left; width: 100%; max-width: 600px; margin-bottom: 2rem;">
        <h4>Premio actual: <span class="text-success">${{ question.prize_level }}</span></h4>
        <h5>Dinero asegurado: <span class="text-success">${{ score }}</span></h5>
    </div>

    <!-- La Pregunta -->
    <h2 style="margin-bottom: 2rem; min-height: 80px; text-align: center; max-width: 600px;">
        {{ question.text }}
    </h2>

    <!--
        ESTA ES LA PARTE IMPORTANTE:
        El formulario ahora contiene TODO, incluyendo el botón de retirarse,
        dentro de un único contenedor flex que los apila verticalmente.
    -->
    <form method="post" action="{% url 'answer_question' question.pk %}" style="width: 100%; max-width: 600px;">
        {% csrf_token %}
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            
            <!-- Botones de Respuesta -->
            <button type="submit" name="answer" value="A" class="btn btn-outline-light"><b style="color: var(--cyan-accent);">A:</b> &nbsp; {{ question.option_a }}</button>
            <button type="submit" name="answer" value="B" class="btn btn-outline-light"><b style="color: var(--cyan-accent);">B:</b> &nbsp; {{ question.option_b }}</button>
            <button type="submit" name="answer" value="C" class="btn btn-outline-light"><b style="color: var(--cyan-accent);">C:</b> &nbsp; {{ question.option_c }}</button>
            <button type="submit" name="answer" value="D" class="btn btn-outline-light"><b style="color: var(--cyan-accent);">D:</b> &nbsp; {{ question.option_d }}</button>

            <!-- Botón de Retirarse -->
            <a href="{% url 'home' %}" class="btn btn-danger" style="margin-top: 2rem; text-align: center;">
                Retirarse con ${{ score }}
            </a>
        </div>
    </form>
</div>
{% endblock %}